webpackJsonp([1],{"4zL5":function(t,e){},MWAP:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("a3Yh"),r=i.n(n),o=i("4YfN"),l=i.n(o),a=i("D/cR"),s=i("BGi1"),c=i("fUgm"),u={props:["info"],computed:l()({},Object(c.c)({list:"menu/menuList"})),data:function(){return{icons:["el-icon-setting","el-icon-s-help","el-icon-s-operation","el-icon-s-grid","el-icon-s-goods","el-icon-s-home"],urls:["/home","/menu","/role","/manage","/cate","/spec","/goods","/banner","/seckill","/member"],form:{pid:0,title:"",icon:"",type:1,url:"",status:1},formLabelWidth:"80px",rules:r()({title:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],pid:[{required:!0,message:"请选择上级菜单",trigger:"change"}],icon:[{required:!0,message:"请选择菜单图标",trigger:"change"}],url:[{required:!0,message:"请选择菜单地址",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}]},"type",[{required:!0,message:"请选择菜单或目录",trigger:"change"}])}},methods:l()({},Object(c.b)({requestList:"menu/requestChangemenuList"}),{cancel:function(){this.info.show=!1,this.info.isAdd||this.empty()},empty:function(){this.form={pid:0,title:"",icon:"",type:1,url:"",status:1}},add:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;Object(a.z)(e.form).then(function(t){"200"==t.data.code?(Object(s.a)(t.data.msg),e.empty(),e.info.show=!1,e.requestList()):Object(s.b)(t.data.msg)})})},getDetail:function(t){var e=this;Object(a.A)({id:t}).then(function(i){e.form=i.data.list,e.form.id=t})},update:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;Object(a.R)(e.form).then(function(t){200==t.data.code?(Object(s.a)(t.data.msg),e.empty(),e.requestList(),e.cancel()):Object(s.b)(t.data.msg)})})}}),mounted:function(){}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:t.info.title,visible:t.info.show},on:{"update:visible":function(e){return t.$set(t.info,"show",e)}}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[i("el-form-item",{attrs:{label:"菜单名称","label-width":t.formLabelWidth,prop:"title"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"上级菜单","label-width":t.formLabelWidth,prop:"pid"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}},[i("el-option",{attrs:{label:"--请选择--",disabled:"",value:""}}),t._v(" "),i("el-option",{attrs:{label:"顶级菜单",value:0}}),t._v(" "),t._l(t.list,function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})],2)],1),t._v(" "),i("el-form-item",{attrs:{label:"菜单类型","label-width":t.formLabelWidth,prop:"type"}},[i("el-radio",{attrs:{label:1},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("目录")]),t._v(" "),i("el-radio",{attrs:{label:2},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("菜单")])],1),t._v(" "),1==t.form.type?i("el-form-item",{attrs:{label:"菜单图标","label-width":t.formLabelWidth,prop:"icon"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}},t._l(t.icons,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1):i("el-form-item",{attrs:{label:"菜单地址","label-width":t.formLabelWidth,prop:"url"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}},t._l(t.urls,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"菜单状态","label-width":t.formLabelWidth}},[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),t.info.isAdd?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add("form")}}},[t._v("添加")]):i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.update("form")}}},[t._v("修改")])],1)],1)],1)},staticRenderFns:[]};var f=i("C7Lr")(u,d,!1,function(t){i("4zL5")},"data-v-8cea9732",null).exports,m={computed:l()({},Object(c.c)({tableData:"menu/menuList"})),data:function(){return{}},methods:l()({},Object(c.b)({requestChangemenuList:"menu/requestChangemenuList"}),{edit:function(t){console.log(t),this.$emit("edit",t)},del:function(t){var e=this;this.$confirm("你确定要删除这条数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.d)({id:t}).then(function(t){200==t.data.code?(Object(s.a)(t.data.msg),e.requestChangemenuList()):Object(s.b)(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}),mounted:function(){this.requestChangemenuList()}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{prop:"id",label:"菜单编号",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"菜单名称",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"icon",label:"菜单图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("i",{class:t.row.icon})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"url",label:"菜单地址"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?i("el-button",{attrs:{type:"primary"}},[t._v("启用")]):i("el-button",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var b={components:{vAdd:f,vList:i("C7Lr")(m,p,!1,function(t){i("ni6v")},"data-v-2d5f6dd2",null).exports},data:function(){return{info:{show:!1,title:"菜单添加",isAdd:!0}}},methods:{add:function(){this.info.show=!0,this.info.title="菜单添加",this.info.isAdd=!0},edit:function(t){this.info.show=!0,this.info.title="菜单编辑",this.info.isAdd=!1,this.$refs.add.getDetail(t)}},mounted:function(){}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-button",{attrs:{type:"primary"},on:{click:this.add}},[this._v("添加")]),this._v(" "),e("v-add",{ref:"add",attrs:{info:this.info}}),this._v(" "),e("v-list",{on:{edit:this.edit}})],1)},staticRenderFns:[]};var v=i("C7Lr")(b,h,!1,function(t){i("reRA")},"data-v-a16c7640",null);e.default=v.exports},RUR6:function(t,e,i){var n=i("Wtcz");n(n.S+n.F*!i("uoC7"),"Object",{defineProperty:i("hHwa").f})},a3Yh:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("liLe"),o=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e,i){return e in t?(0,o.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},liLe:function(t,e,i){t.exports={default:i("zhwF"),__esModule:!0}},ni6v:function(t,e){},reRA:function(t,e){},zhwF:function(t,e,i){i("RUR6");var n=i("ZuHZ").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}}});
//# sourceMappingURL=1.4605e695c09ecc0ecb37.js.map